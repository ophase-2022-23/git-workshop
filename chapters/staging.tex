\section{Staging}\label{sec:staging}

\begin{frame}[c]
    \slidehead
    \centering
    \begin{tikzpicture}
        \node[node_inactive] (clean) {working tree clean};
        \node[node_inactive, fill=red!10!gray, below=2.5em of clean] (modified) {modified};
        \node[node_inactive, fill=green!10!gray, below=2.5em of modified] (staged) {staged};

        \draw[parent-inactive] (clean.south) -- (modified.north) node[right, pos=0.5] {\texttt{file modification}};
        \draw[parent-inactive] (modified.south) -- (staged.north) node[right, pos=0.5] {\texttt{git add}};
        \draw[parent-inactive] (staged) to[out=0, in=0, looseness=2] node[right, pos=.5] {\texttt{file modification}} (modified);
        \draw[parent-inactive] (staged) to[out=180,in=180, looseness=1.5] node[left, pos=.5] {\texttt{git commit}} (clean);

        \node<2,5->[node] (clean-active) at (clean) {working tree clean};
        \node<3,5->[node, fill=red!50!gray] (modified-active) at (modified) {modified};
        \node<4,6->[node, fill=green!40!gray] (staged-active) at (staged) {staged};

        \draw<3,6->[parent] (clean.south) -- (modified.north) node[right, pos=0.5] {\texttt{file modification}};
        \draw<4,6->[parent] (modified.south) -- (staged.north) node[right, pos=0.5] {\texttt{git add}};
        \draw<5->[parent] (staged) to[out=0, in=0, looseness=2] node[right, pos=.5] {\texttt{file modification}} (modified);
        \draw<5->[parent] (staged) to[out=180,in=180, looseness=1.5] node[left, pos=.5] {\texttt{git commit}} (clean);
    \end{tikzpicture}
\end{frame}
